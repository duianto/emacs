# -*- mode: org; coding: utf-8-unix; indent-tabs-mode: nil -*-
#
# Copyright(C) Youhei SASAKI All rights reserved.
# $Lastupdate: 2012/09/01 16:09:06$
# License: Expat
#
#+TITLE: Anythingの設定
#+AUTHOR: Youhei SASAKI
#+EMAIL: uwabami@gfd-dennou.org
#+SETUPFILE: ./export-config.org
#+BEGIN_HTML
---
layout: emacs
title: Anythingの設定
---
#+END_HTML
* 始めに
  何度か挫折しては舞い戻ってくる [[http://emacswiki.org/emacs/Anything][Anything]] [fn:1] の設定.
  あまりに高機能すぎて, よく眩暈をおこして使うのを止めるのですが,
  最近の Emacs 界隈(ドコ?)では,
  「Anything が使えないと人じゃない(違」みたいな空気があって
  挫折しては戻ってきて挫折しては戻ってきて, を繰り返しています.
* 導入とか
  [[file:init.org][Emacsの基本設定]] で書いた通り,
  Debianには[[http://packages.qa.debian.org/a/anything-el.html][パッケージ]] [fn:2]があるので
  #+BEGIN_EXAMPLE
  $ apt-get install anything-el
  #+END_EXAMPLE
  で OK.
  パッケージが使えない場合には el-get で
  anything を導入しておく.
  #+BEGIN_SRC emacs-lisp
    (unless (locate-library "anything")
      (el-get 'sync 'anything))
  #+END_SRC
* 設定
** history の位置変更
   #+BEGIN_SRC emacs-lisp
     (setq anything-c-adaptive-history-file
           (concat my:user-emacs-temporary-directory "anything-c-adaptive-history"))
   #+END_SRC
** non-X 用の ad hoc な対応
   #+BEGIN_SRC emacs-lisp
     (setq anything-c-find-files-icons-directory nil)
   #+END_SRC
** 読み込み
   anything-config で一通りの設定を読み込み.
   #+BEGIN_SRC emacs-lisp
    (require 'anything-config)
   #+END_SRC
** 雑多な設定
   #+BEGIN_SRC emacs-lisp
     (setq
      ;; 候補を表示するまでの時間を 0.5 → 0.2 に
      anything-idle-delay 0.2
      ;; タイプしてから再描画するまでの時間を 0.1 に(default)
      anything-input-idle-delay 0.1
      ;; 最大候補表示数 50 (default)
      anything-candidate-number-limit 50
      ;; 体感速度向上
      anything-quick-update t
      ;; 選択候補のショートカットをアルファベットに
      ;; これ大文字ファイル名の選択で嵌らないか?
      anything-enable-shortcuts 'alphabet)
   #+END_SRC
** キーバインド
   :PROPERTIES:
   :ID:       5c4f7137-e3c0-4b48-a861-7975307a54ce
   :END:
   C-o, C-z はそれぞれ elscreen と howm にわたすので nil に
   #+BEGIN_SRC emacs-lisp
     (define-key global-map   (kbd "C-x b")       'anything-for-files)
     (define-key global-map   (kbd "C-x C-b")     'anything-for-files)
     (define-key global-map   (kbd "C-x M-b")     'ibuffer-other-window)
     (define-key global-map   (kbd "M-y")         'anything-show-kill-ring)
     (define-key anything-map (kbd "C-l")         'anything-execute-persistent-action)
     (define-key anything-map (kbd "C-z") nil) ; → howm の prefix
     (define-key anything-map (kbd "C-o") nil) ; → elscreen の prefix
     (define-key anything-map (kbd "C-M-n")       'anything-next-source)
     (define-key anything-map (kbd "C-M-p")       'anything-previous-source)
  #+END_SRC
** su→sudo
   #+BEGIN_SRC emacs-lisp
     (setq tramp-persistency-file-name
           (concat my:user-emacs-temporary-directory "tramp"))
     (setq anything-su-or-sudo "sudo")
   #+END_SRC
** migemoの利用
   #+BEGIN_SRC emacs-lisp
     (require 'anything-match-plugin nil t)
     (when (and (locate-library "migemo")
                (executable-find "cmigemo"))
       (my:load-org-file "migemo_config.org")
       (require 'anything-migemo nil t))
   #+END_SRC
** キーバインドを anything
   #+BEGIN_SRC emacs-lisp
     (unless (locate-library "descbinds-anything")
       (el-get 'sync 'descbinds-anything))
     (when (require 'descbinds-anything nil t)
       (descbinds-anything-install))
   #+END_SRC
* Footnotes

[fn:1] Anything - EmacsWiki: [[http://emacswiki.org/emacs/Anything]]

[fn:2] anything-el - Debian PTS: [[http://packages.qa.debian.org/a/anything-el.html]]
